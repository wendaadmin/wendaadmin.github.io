import{d as k,o as u,c as v,j as p,w as m,b as t,ar as y,M as h,F as I,C as U,N as T,as as j,at as E,au as P,r as b,L as $,ad as O,f as V,u as N,g as M,h as z,av as A,ag as F,l as J,aw as q,p as D,a as G,_ as H}from"./entry.b627817d.js";import{_ as K}from"./client-only.8d3af453.js";import"./request.8511a56b.js";/* empty css                  */import{c as Q}from"./user.ba30ea59.js";const R={key:0,class:""},W={class:"space-x-2"},X={class:""},Y={class:"space-x-2"},Z={class:""},ee={class:"space-x-2"},L=k({__name:"MenuTree",props:{item:{default:{}},itemIndex:{default:null}},setup(n){return(e,_)=>{const c=j,f=L,x=E;return e.item.subMenus?(u(),v("div",R,[e.item.subMenus.length===0?(u(),p(c,{key:0,index:e.item.menuUrl,class:""},{default:m(()=>[t("div",W,[t("span",{class:y(`iconfont ${e.item.menuIcon}`)},null,2),t("span",X,h(e.item.menuName),1)])]),_:1},8,["index"])):(u(),p(x,{key:1,index:e.item.menuUrl==="#"?`${e.itemIndex}`:e.item.menuUrl},{title:m(()=>[t("div",Y,[t("span",{class:y(`iconfont ${e.item.menuIcon}`)},null,2),t("span",Z,h(e.item.menuName),1)])]),default:m(()=>[(u(!0),v(I,null,U(e.item.subMenus,(s,i)=>(u(),v(I,{key:s.menuUrl},[s.subMenus&&s.subMenus.length>0?(u(),p(f,{key:0,item:s,"item-index":`'child'${i}`},null,8,["item","item-index"])):(u(),p(c,{key:s.menuUrl,index:s.menuUrl},{title:m(()=>[t("div",ee,[t("span",{class:y(`iconfont ${s.menuIcon}`)},null,2),t("span",null,h(s.menuName),1)])]),_:2},1032,["index"]))],64))),128))]),_:1},8,["index"]))])):T("",!0)}}});const te=P("breadcrumb",()=>{const n=b([]),e=b({}),_=$(()=>n.value),c=$(()=>e.value);return{breadList:n,breadSelected:e,getBreadList:_,getBreadSelected:c,setBreadList:i=>{n.value=i},setBreadSelected:i=>{n.value=i},clearBreadcrumb:()=>{n.value=[],e.value={}}}},{persist:[{paths:["breadList","breadSelected"],storage:localStorage}]}),se=n=>(D("data-v-96bf3ca2"),n=n(),G(),n),ne={class:"home w-screen h-screen flex overflow-x-hidden"},oe={class:"fixed top-5 right-10 flex items-center justify-end space-x-2 z-10"},ae={class:"text-[12px]"},ue={class:"w-[200px] h-full flex flex-col items-center"},le=se(()=>t("div",{class:"w-[85%] h-16 flex items-center justify-center space-x-2"}," 数据报告 ",-1)),re={class:"w-full flex-1 overflow-y-auto"},ce={class:"flex-1 h-full flex flex-col space-y-2 overflow-auto"},ie={class:"w-full flex-1 px-4 py-2 relative overflow-hidden"},de={class:"content_box_shadow w-full h-full overflow-auto rounded-lg"},me=k({__name:"default",setup(n){b(!1);const e=O(),_=te(),c=b(),f=b([{menuUrl:"/nameList",menuIcon:"icon-mti-tongxunlu",menuName:"人员列表",subMenus:[]},{menuUrl:"/questionnaireLibrary",menuIcon:"icon-wenjuanku",menuName:"问卷库",subMenus:[]},{menuUrl:"/survey",menuIcon:"icon-shujubaogao",menuName:"数据报告",subMenus:[]}]),x=o=>{const d=JSON.parse(JSON.stringify(f.value)),l=_.getBreadList,a=l.findIndex(g=>g.menuUrl.split("?")[0]===o),r=s(d,o);a===-1?r&&l.push(r):l.splice(a,1,r)},s=(o,d)=>{for(let l=0;l<o.length;l++){const a=o[l];if(a.menuUrl===d)return a;if(a.subMenus&&a.subMenus.length>0){const r=s(a.subMenus,d);if(r)return r}}return null},i=async()=>{try{if(!e.getToken)return;const o=await Q();c.value=o.data}catch{}};V(()=>{i()});const C=()=>{_.clearBreadcrumb(),F("/login")};return(o,d)=>{var S;const l=J,a=L,r=q,g=K;return u(),v("div",ne,[t("div",oe,[t("span",ae,h((S=N(c))==null?void 0:S.name),1),M(l,{onClick:d[0]||(d[0]=w=>C()),type:"primary"},{default:m(()=>[z("退出登录")]),_:1})]),t("div",ue,[le,t("div",re,[M(g,null,{default:m(()=>[M(r,{"default-active":o.$route.path,router:"",onSelect:x},{default:m(()=>[(u(!0),v(I,null,U(N(f),(w,B)=>(u(),p(a,{key:B,item:w,"item-index":B},null,8,["item","item-index"]))),128))]),_:1},8,["default-active"])]),_:1})])]),t("div",ce,[t("div",ie,[t("div",de,[A(o.$slots,"default",{},void 0,!0)])])])])}}});const xe=H(me,[["__scopeId","data-v-96bf3ca2"]]);export{xe as default};
