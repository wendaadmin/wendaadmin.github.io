import{d as k,o as u,c as v,j as p,w as m,b as s,as as y,N as h,F as I,D as U,O as T,at as j,au as E,av as O,r as b,M as $,ae as P,f as V,g as M,u as N,h as z,aw as A,ah as D,ax as F,l as J,p as q,a as G,_ as H}from"./entry.5f4864c5.js";import{_ as K}from"./client-only.95541dc7.js";/* empty css                  */import"./request.9250ecd8.js";import{c as Q}from"./user.5c92acca.js";const R={key:0,class:""},W={class:"space-x-2"},X={class:""},Y={class:"space-x-2"},Z={class:""},ee={class:"space-x-2"},L=k({__name:"MenuTree",props:{item:{default:{}},itemIndex:{default:null}},setup(n){return(e,_)=>{const c=j,f=L,x=E;return e.item.subMenus?(u(),v("div",R,[e.item.subMenus.length===0?(u(),p(c,{key:0,index:e.item.menuUrl,class:""},{default:m(()=>[s("div",W,[s("span",{class:y(`iconfont ${e.item.menuIcon}`)},null,2),s("span",X,h(e.item.menuName),1)])]),_:1},8,["index"])):(u(),p(x,{key:1,index:e.item.menuUrl==="#"?`${e.itemIndex}`:e.item.menuUrl},{title:m(()=>[s("div",Y,[s("span",{class:y(`iconfont ${e.item.menuIcon}`)},null,2),s("span",Z,h(e.item.menuName),1)])]),default:m(()=>[(u(!0),v(I,null,U(e.item.subMenus,(t,i)=>(u(),v(I,{key:t.menuUrl},[t.subMenus&&t.subMenus.length>0?(u(),p(f,{key:0,item:t,"item-index":`'child'${i}`},null,8,["item","item-index"])):(u(),p(c,{key:t.menuUrl,index:t.menuUrl},{title:m(()=>[s("div",ee,[s("span",{class:y(`iconfont ${t.menuIcon}`)},null,2),s("span",null,h(t.menuName),1)])]),_:2},1032,["index"]))],64))),128))]),_:1},8,["index"]))])):T("",!0)}}});const se=O("breadcrumb",()=>{const n=b([]),e=b({}),_=$(()=>n.value),c=$(()=>e.value);return{breadList:n,breadSelected:e,getBreadList:_,getBreadSelected:c,setBreadList:i=>{n.value=i},setBreadSelected:i=>{n.value=i},clearBreadcrumb:()=>{n.value=[],e.value={}}}},{persist:[{paths:["breadList","breadSelected"],storage:localStorage}]}),te=n=>(q("data-v-93e56a27"),n=n(),G(),n),ne={class:"home w-screen h-screen flex overflow-x-hidden"},oe={class:"w-[200px] h-full flex flex-col items-center"},ae=te(()=>s("div",{class:"w-[85%] h-16 flex items-center justify-center space-x-2"}," 问卷管理系统 ",-1)),ue={class:"w-full flex-1 overflow-y-auto"},le={class:"flex-1 h-full flex flex-col space-y-2 overflow-auto"},re={class:"flex items-center justify-end space-x-2 z-10 mt-3 mr-5"},ce={class:"text-[12px]"},ie={class:"w-full flex-1 px-4 py-2 relative overflow-hidden"},de={class:"content_box_shadow w-full h-full overflow-auto rounded-lg"},me=k({__name:"default",setup(n){b(!1);const e=P(),_=se(),c=b(),f=b([{menuUrl:"/nameList",menuIcon:"icon-mti-tongxunlu",menuName:"人员库",subMenus:[]},{menuUrl:"/questionnaireLibrary",menuIcon:"icon-wenjuanku",menuName:"问卷库",subMenus:[]},{menuUrl:"/survey",menuIcon:"icon-shujubaogao",menuName:"数据报告",subMenus:[]}]),x=o=>{const d=JSON.parse(JSON.stringify(f.value)),l=_.getBreadList,a=l.findIndex(g=>g.menuUrl.split("?")[0]===o),r=t(d,o);a===-1?r&&l.push(r):l.splice(a,1,r)},t=(o,d)=>{for(let l=0;l<o.length;l++){const a=o[l];if(a.menuUrl===d)return a;if(a.subMenus&&a.subMenus.length>0){const r=t(a.subMenus,d);if(r)return r}}return null},i=async()=>{try{if(!e.getToken)return;const o=await Q();c.value=o.data}catch{}};V(()=>{i()});const C=()=>{_.clearBreadcrumb(),D("/login")};return(o,d)=>{var S;const l=L,a=F,r=K,g=J;return u(),v("div",ne,[s("div",oe,[ae,s("div",ue,[M(r,null,{default:m(()=>[M(a,{"default-active":o.$route.path,router:"",onSelect:x},{default:m(()=>[(u(!0),v(I,null,U(N(f),(w,B)=>(u(),p(l,{key:B,item:w,"item-index":B},null,8,["item","item-index"]))),128))]),_:1},8,["default-active"])]),_:1})])]),s("div",le,[s("div",re,[s("span",ce,h((S=N(c))==null?void 0:S.name),1),M(g,{onClick:d[0]||(d[0]=w=>C()),type:"primary"},{default:m(()=>[z("退出登录")]),_:1})]),s("div",ie,[s("div",de,[A(o.$slots,"default",{},void 0,!0)])])])])}}});const xe=H(me,[["__scopeId","data-v-93e56a27"]]);export{xe as default};
