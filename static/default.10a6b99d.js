import{d as k,o as u,c as v,j as p,w as m,b as t,at as y,N as h,F as I,D as U,O as T,au as j,av as E,aw as O,r as b,M as $,ad as P,f as V,g as M,u as N,h as z,ax as A,ag as D,ay as F,l as J,p as q,a as G,_ as H}from"./entry.b2a062ba.js";import{_ as K}from"./client-only.0327324f.js";/* empty css                  */import"./request.288d3b61.js";import{c as Q}from"./user.6170a841.js";const R={key:0,class:""},W={class:"space-x-2"},X={class:""},Y={class:"space-x-2"},Z={class:""},ee={class:"space-x-2"},L=k({__name:"MenuTree",props:{item:{default:{}},itemIndex:{default:null}},setup(s){return(e,_)=>{const c=j,f=L,x=E;return e.item.subMenus?(u(),v("div",R,[e.item.subMenus.length===0?(u(),p(c,{key:0,index:e.item.menuUrl,class:""},{default:m(()=>[t("div",W,[t("span",{class:y(`iconfont ${e.item.menuIcon}`)},null,2),t("span",X,h(e.item.menuName),1)])]),_:1},8,["index"])):(u(),p(x,{key:1,index:e.item.menuUrl==="#"?`${e.itemIndex}`:e.item.menuUrl},{title:m(()=>[t("div",Y,[t("span",{class:y(`iconfont ${e.item.menuIcon}`)},null,2),t("span",Z,h(e.item.menuName),1)])]),default:m(()=>[(u(!0),v(I,null,U(e.item.subMenus,(n,i)=>(u(),v(I,{key:n.menuUrl},[n.subMenus&&n.subMenus.length>0?(u(),p(f,{key:0,item:n,"item-index":`'child'${i}`},null,8,["item","item-index"])):(u(),p(c,{key:n.menuUrl,index:n.menuUrl},{title:m(()=>[t("div",ee,[t("span",{class:y(`iconfont ${n.menuIcon}`)},null,2),t("span",null,h(n.menuName),1)])]),_:2},1032,["index"]))],64))),128))]),_:1},8,["index"]))])):T("",!0)}}});const te=O("breadcrumb",()=>{const s=b([]),e=b({}),_=$(()=>s.value),c=$(()=>e.value);return{breadList:s,breadSelected:e,getBreadList:_,getBreadSelected:c,setBreadList:i=>{s.value=i},setBreadSelected:i=>{s.value=i},clearBreadcrumb:()=>{s.value=[],e.value={}}}},{persist:[{paths:["breadList","breadSelected"],storage:localStorage}]}),ne=s=>(q("data-v-93e56a27"),s=s(),G(),s),se={class:"home w-screen h-screen flex overflow-x-hidden"},oe={class:"w-[200px] h-full flex flex-col items-center"},ae=ne(()=>t("div",{class:"w-[85%] h-16 flex items-center justify-center space-x-2"}," 问卷管理系统 ",-1)),ue={class:"w-full flex-1 overflow-y-auto"},le={class:"flex-1 h-full flex flex-col space-y-2 overflow-auto"},re={class:"flex items-center justify-end space-x-2 z-10 mt-3 mr-5"},ce={class:"text-[12px]"},ie={class:"w-full flex-1 px-4 py-2 relative overflow-hidden"},de={class:"content_box_shadow w-full h-full overflow-auto rounded-lg"},me=k({__name:"default",setup(s){b(!1);const e=P(),_=te(),c=b(),f=b([{menuUrl:"/nameList",menuIcon:"icon-mti-tongxunlu",menuName:"人员库",subMenus:[]},{menuUrl:"/questionnaireLibrary",menuIcon:"icon-wenjuanku",menuName:"问卷库",subMenus:[]},{menuUrl:"/survey",menuIcon:"icon-shujubaogao",menuName:"数据报告",subMenus:[]}]),x=o=>{const d=JSON.parse(JSON.stringify(f.value)),l=_.getBreadList,a=l.findIndex(g=>g.menuUrl.split("?")[0]===o),r=n(d,o);a===-1?r&&l.push(r):l.splice(a,1,r)},n=(o,d)=>{for(let l=0;l<o.length;l++){const a=o[l];if(a.menuUrl===d)return a;if(a.subMenus&&a.subMenus.length>0){const r=n(a.subMenus,d);if(r)return r}}return null},i=async()=>{try{if(!e.getToken)return;const o=await Q();c.value=o.data}catch{}};V(()=>{i()});const C=()=>{_.clearBreadcrumb(),D("/login")};return(o,d)=>{var S;const l=L,a=F,r=K,g=J;return u(),v("div",se,[t("div",oe,[ae,t("div",ue,[M(r,null,{default:m(()=>[M(a,{"default-active":o.$route.path,router:"",onSelect:x},{default:m(()=>[(u(!0),v(I,null,U(N(f),(w,B)=>(u(),p(l,{key:B,item:w,"item-index":B},null,8,["item","item-index"]))),128))]),_:1},8,["default-active"])]),_:1})])]),t("div",le,[t("div",re,[t("span",ce,h((S=N(c))==null?void 0:S.name),1),M(g,{onClick:d[0]||(d[0]=w=>C()),type:"primary"},{default:m(()=>[z("退出登录")]),_:1})]),t("div",ie,[t("div",de,[A(o.$slots,"default",{},void 0,!0)])])])])}}});const xe=H(me,[["__scopeId","data-v-93e56a27"]]);export{xe as default};
